<!DOCTYPE html>
<html>
<head>
    <title>Flask æ¸¸æˆ</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .game-container { max-width: 600px; margin: 0 auto; }
        .score-input { margin: 20px 0; }
        button { padding: 10px 20px; margin: 5px; }
        #scores-list { margin-top: 20px; }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>ğŸ® Flask æ¸¸æˆå¹³å°</h1>
        
        <div class="score-input">
            <h3>æäº¤åˆ†æ•°</h3>
            <input type="text" id="playerName" placeholder="ç©å®¶åç§°">
            <input type="number" id="score" placeholder="åˆ†æ•°">
            <button onclick="submitScore()">æäº¤åˆ†æ•°</button>
        </div>

        <div class="score-input">
            <h3>æ¨¡æ‹Ÿæ¸¸æˆ</h3>
            <button onclick="generateRandomScore()">ç”Ÿæˆéšæœºåˆ†æ•°</button>
        </div>

        <div id="scores-list">
            <h3>æ’è¡Œæ¦œ</h3>
            <button onclick="loadScores()">åˆ·æ–°æ’è¡Œæ¦œ</button>
            <ul id="scores"></ul>
        </div>
    </div>

    <script>
        async function submitScore() {
            const playerName = document.getElementById('playerName').value;
            const score = document.getElementById('score').value;
            
            const response = await fetch('/api/scores', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ player_name: playerName, score: parseInt(score) })
            });
            
            if (response.ok) {
                alert('åˆ†æ•°æäº¤æˆåŠŸ!');
                loadScores();
            } else {
                alert('æäº¤å¤±è´¥!');
            }
        }

        function generateRandomScore() {
            const names = ['ç©å®¶A', 'ç©å®¶B', 'ç©å®¶C', 'ç©å®¶D', 'ç©å®¶E'];
            const randomName = names[Math.floor(Math.random() * names.length)];
            const randomScore = Math.floor(Math.random() * 1000);
            
            document.getElementById('playerName').value = randomName;
            document.getElementById('score').value = randomScore;
        }

        async function loadScores() {
            const response = await fetch('/api/scores');
            const scores = await response.json();
            
            const scoresList = document.getElementById('scores');
            scoresList.innerHTML = '';
            
            scores.forEach(score => {
                const li = document.createElement('li');
                li.textContent = `${score.player_name}: ${score.score} åˆ†`;
                scoresList.appendChild(li);
            });
        }

        // é¡µé¢åŠ è½½æ—¶è·å–åˆ†æ•°
        loadScores();
    </script>
</body>
</html>